{% extends "base.html" %}
{% block title %}View Detected Object{% endblock %}
{% block content %}
<div class="container mx-auto mt-8 p-8 bg-white shadow-lg rounded-lg grid grid-cols-1 md:grid-cols-5 gap-8">
  <div class="md:col-span-3">
    <!-- Page Title -->
    <h2 class="text-3xl font-semibold text-gray-800 mb-6">Detected Object Details</h2>

    <!-- Object Details Section -->
    <div class="mb-6">
      <h3 class="text-lg font-semibold text-gray-700">Object ID:</h3>
      <p class="text-gray-600">{{ detected_object.id }}</p>
    </div>

    <!-- Detector Details Section -->
    <div class="mb-6">
      <h3 class="text-lg font-semibold text-gray-700">Detector ID:</h3>
      <p class="text-gray-600">{{ detected_object.detector_id }}</p>
    </div>

    <!-- CCTV Details Section -->
    <div class="mb-6">
      <h3 class="text-lg font-semibold text-gray-700">CCTV Details:</h3>
      <ul class="list-inside list-disc text-gray-600 space-y-1">
        <li>ID: {{ detected_object.detector.cctv.id }}</li>
        <li>Location: {{ detected_object.detector.cctv.location }}</li>
        <li>IP Address: {{ detected_object.detector.cctv.ip_address }}</li>
        <li>Type: {{ detected_object.detector.cctv.type }}</li>
      </ul>
    </div>

    <!-- Model Details Section -->
    <div class="mb-6">
      <h3 class="text-lg font-semibold text-gray-700">Model Details:</h3>
      <ul class="list-inside list-disc text-gray-600 space-y-1">
        <li>Model ID: {{ detected_object.detector.weight.id }}</li>
        <li>Type: {{ detected_object.detector.weight.detector_type.name }}</li>
        <li>Description: {{ detected_object.detector.weight.detector_type.description }}</li>
      </ul>
    </div>

    <!-- Detection Result Section -->
    <div class="mb-6">
      <h3 class="text-lg font-semibold text-gray-700">Detection Result:</h3>
      <p class="text-gray-600">Object Name: {{ detected_object.name }}</p>
      <p class="text-gray-600">Timestamp: {{ detected_object.timestamp.strftime('%d %B %Y, %H:%M:%S') }}</p>
    </div>
  </div>

  <div class="md:col-span-2">
    <!-- Object Image Section -->
    <div class="mb-8">
      <h3 class="text-lg font-semibold text-gray-700">Object Image:</h3>
      {% if detected_object.frame %}
      <img src="data:image/jpeg;base64,{{ detected_object.frame | b64encode }}" alt="Detected Object"
        class="w-full rounded-lg shadow-md mt-4" />
      {% else %}
      <p class="text-gray-600">No image available.</p>
      {% endif %}
    </div>
  </div>
</div>
{% endblock %}